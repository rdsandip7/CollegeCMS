<!DOCTYPE html>
@model PagedList.IPagedList<PresentationLayer.Models.EmployeeViewModel>
@using PagedList.Mvc;
@{
    ViewBag.Title = "Employees";
}
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
        <!-- BOOTSTRAP STYLES-->
    <link href="~/assets/css/bootstrap.css" rel="stylesheet" />
    <!-- FONTAWESOME STYLES-->
    <link href="~/assets/css/font-awesome.css" rel="stylesheet" />
    <!-- CUSTOM STYLES-->
    <link href="~/assets/css/custom.css" rel="stylesheet" />
    <!-- GOOGLE FONTS-->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
<link href="~/assets/css/registration.css" rel="stylesheet" />
           
</head>
<body>
    <div id="wrapper">
     <div>
       @Html.Partial("~/Views/Shared/navigator.cshtml")                
     </div>
     <div id="page-wrapper">
            <div id="page-inner">
             @using (Html.BeginForm("Index","Employee",FormMethod.Get))
             {    
                 <p> 
                   Find By Name:  @Html.TextBox("SearchString",ViewBag.currentFilter as string)  
                   <input type="submit" value="Search" />
                 </p> 
            }
                <div>
                    <table>
            
                
                                <th>@Html.ActionLink("First Name", "Index", "Employee", new { sortOrder=ViewBag.FNameSortParm ,currenFilter=ViewBag.currentFilter },"")</th>
                                <th>@Html.ActionLink("Middle Name", "Index", "Employee", new { sortOrder=ViewBag.MNameSortParm ,currenFilter=ViewBag.currentFilter },"")</th>
                                <th>@Html.ActionLink("Last Name", "Index", "Employee", new { sortOrder=ViewBag.LNameSortParm ,currenFilter=ViewBag.currentFilter },"")</th>
                                <th>@Html.ActionLink("Email", "Index", "Employee", new { sortOrder = ViewBag.Email, currentFilter = ViewBag.CurrentFilter }, "")</th>
                                <th>@Html.ActionLink("Department", "Index", "Employee", new { sortOrder=ViewBag.deptSortParm ,currenFilter=ViewBag.currentFilter },"")</th>
                                <th>@Html.ActionLink("Phone", "Index", "Employee", new { sortOrder=ViewBag.deptSortParm ,currenFilter=ViewBag.currentFilter },"")</th>
                                <th>@Html.ActionLink("Address", "Index", "Employee", new { sortOrder=ViewBag.deptSortParm ,currenFilter=ViewBag.currentFilter },"")</th>
                                <th>@Html.ActionLink("Position", "Index", "Employee", new { sortOrder=ViewBag.deptSortParm ,currenFilter=ViewBag.currentFilter },"")</th>
                                <th>@Html.ActionLink("Gender", "Index", "Employee", new { sortOrder=ViewBag.deptSortParm ,currenFilter=ViewBag.currentFilter },"")</th>
                                <th>@Html.ActionLink("HiredDate", "Index", "Employee", new { sortOrder=ViewBag.deptSortParm ,currenFilter=ViewBag.currentFilter },"")</th>
                                <th>@Html.ActionLink("ResignationDate", "Index", "Employee", new { sortOrder=ViewBag.deptSortParm ,currenFilter=ViewBag.currentFilter },"")</th>

               
                            @foreach (var item in Model)
                            { 
                            <tr>
                                <td>@item.FirstName</td>
                                <td>@item.MiddleName</td>
                                <td>@item.LastName</td>
                                <td>@item.Email</td>
                                <td>@item.Department</td>
                                <td>@item.Phone</td>
                                <td>@item.Address</td>
                                <td>@item.Position</td>
                                <td>@item.Gender</td>
                                <td>@item.HiredDate</td>
                                 @if(item.ResignationDate != null )
                                    {
                                        <td>@item.ResignationDate</td>
                                    }
                                    else
                                    {
                                        <td>Continuing job</td>
                                    }
                                <td>@Html.ActionLink("Edit","Edit","Employee", new{EmployeeId = item.EmployeeId},"")</td>
                                <td>@Html.ActionLink("Delete","DeleteEmployee","Employee", new{EmployeeId = item.EmployeeId},"")</td>                    
                            </tr>
                            }        
            
                    </table>
            
                    page @(Model.PageCount<Model.PageNumber?0:
                        Model.PageNumber) of @Model.PageCount
                    @Html.PagedListPager(Model,page=>Url.Action
                   ("Index","Employee",new {page,sortOrder=ViewBag.currentSort,currentFilter=ViewBag.currentFilter}))
                </div>
                    <div class="col-md-4">
                        <div class="btn btn-danger btn-lg btn-block">@Html.ActionLink("Create New Employee","CreateNewEmployee","Employee")</div>
                    </div>
        </div>
    </div>
        </div>
    <!-- JQUERY SCRIPTS -->
    <script src="~/assets/js/jquery-1.10.2.js"></script>
    <!-- BOOTSTRAP SCRIPTS -->
    <script src="~/assets/js/bootstrap.min.js"></script>
    <!-- METISMENU SCRIPTS -->
    <script src="~/assets/js/jquery.metisMenu.js"></script>
    <!-- CUSTOM SCRIPTS -->
    <script src="~/assets/js/custom.js"></script>
</body>

</html>
